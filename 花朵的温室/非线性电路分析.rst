.. Kenneth Lee 版权所有 2023

:Authors: Kenneth Lee
:Version: 0.1
:Date: 2023-09-25
:Status: Draft

非线性电路分析
**************

本文我们延续
:doc:`上一个讨论 <线性电路分析原理>`
，以三极管为中心讨论一下非线性电路分析的原理。

我中学的时候醉心于做收音机，对三极管是怎么工作的花了很多时间，也参加了不少课外
培训结构，看过很多关于三极管电路分析的资料，基本上就没怎么看懂。甚至到大学的时
候正规学习模拟电路和数字电路了，我都没有怎么搞明白这东西到底是个什么原理。

这个问题直到我工作了以后，和不少做硬件的同事一起工作了，我才突然反应过来，我根
本就被“放大”这个概念给误导了，三极管的基本原理其实很简单，对它的分析和前面的基
尔霍夫定律的分析方法几乎是完全一样的，它仅仅换掉了欧姆定律。

你要这样想这个问题：在我们利用基尔霍夫定律看待一个电路的时候，欧姆定律其实是在
我们的方程（等式）上放了一个线性多项式（欧姆定律的IR=V公式），而三极管不过是把
这个多项式换成了一个非线性的多项式（关键是这个多项式甚至写不出公式来，我们只能
把那条公式画成一个函数图像来给你看），想明白这一点，所有的分析逻辑，就都可以打
通了。

在我们介绍怎么看电路前，我们大概理解一下什么是“半导体”。所谓“导体”，就是物质里
面有大量的自由电子，所以一旦遇到电压，自由电子就在电场的作用下，快速移动，形成
电流。由于电子的量足够大，所以形成了一个线性效应（也就是欧姆定律）：你给多大的
电压，就能产生多大的电流，因为电子管够。而所谓绝缘体，就是没有自由电子的物质，
所有的电子都被锁死的原子结构上，比如共价键上，电子只能停留在那里，你加一般大小
的电场，它都不会移动，这样就算你给多高的电压，它也没有电流可以产生。

而半导体是什么呢？我以前老在想这东西是不是就是个大电阻，其实它不是，它的物质都
是那种原子电子要不是3，要不是5的物质，这样正好和第一层4个电子的稳态差一点点，
所以它没有很多自由电子，但也不是完全没有。所以才叫它半导体。它不像电阻，电阻有
很多的自由电子，只是移动会产生热消耗掉而已。它干脆就不够电子用，所以你给了很高
的电压，它的电流也就那么多，反正它就是不够电子给你用。所以半导体本身就不符合欧
姆定律，具体符合什么，公式是啥，我也没有研究过。反正它不是线性的就行。

但人们喜欢就喜欢它这个非线性，因为非线性就意味着它可以产生变化，不会像电阻这样，
加大多少电压，就产生多少电流，如果我只是要控制一个线性的东西，这东西有用，但如
果我想控制一个不是线性的东西，比如开关，电大到一定的程度就会断，这东西线性的电
路永远都解决不了。但非线性的东西我只要找一个拐点，就可能在这个位置上制造一个开
关。

二极管就是这种思路的产物，它通过在半导体上加上一些杂质来控制自由电子（或者正电
空穴）的数量，然后把两种不同的半导体（P是Positive，多了空穴，N是Nagative，多了
电子）拼在一起，正好就产生了一个内部的反向电动势……这些东西的深入原理，其实我们
也不用关心，反正我们知道这样制造了以后，我们就得到一个器件，它和电阻不同，它的
方程不是线性的，而是一条曲线：

.. figure:: _static/电阻和二极管的伏安曲线对比.svg

   电阻和二极管的伏安特性对比

其实严格来说，电阻也不是线性的，你加的电压足够大，把它烧坏，它一样不能保持欧姆
定律那种线性关系。只是它的线性区比较大，你一般不会超过范围而已。但二极管这种东
西在不同电压上的行为是明显不一样的，稳压区那里，电压你怎么加都加不上去，它就可
以用来做那个范围的稳压电路，比如可以做成这样：

.. figure:: _static/OIP-C.jpeg

   稳压电路（网络图片）

输入的电压怎么变化，到了它的稳压区，电压就上不去（消耗在那个电阻上了）。我们就
利用它这一段的规律，专门把它用来稳压这个范围的电压。它能稳的电压也固定是二极管
伏安特性中的那个范围，不能随便你说改就改的。我以前把这个东西当数学学，觉得什么
指标的二极管都能做出来，其实根本就不行，一个二极管的伏安特性是什么样的，也就那
几种可能，你要根据它的伏安特性来搭电路，而不是你自己随便可以选择的。

这就是工程和理论的区别，理论希望你记一条公式，各种情况都能算出结果来。工程使用
你会发现，你的理论可以用的数据也就那几个。

下面这一段用了截止区和饱和区的特点，专门用于把交流电变成直流电：

.. figure:: _static/桥式整流.jpeg

   桥式整流电路（网络图片）

这也是只有一段范围可以用的。我们理解这些工程上的问题，就会知道我们到底在解决什
么问题。

好了，现在我们开始正式看三极管。三极管难搞明白，其实本质就是它是个比较混沌的系
统，你看过《三体》，知道三个质点的运动特点，就算给你所有的参数，合并起来就写不
出公式。三极管其实类似，只有一个PN结的二极管已经是一个非线性系统了，然后有三个
PN结的三极管，它的行为就非常的缺乏规律。所以其实我们根本就没有打算用一条公式写
出它的特征来，其实总结一些总体的规律，然后直接用基尔霍夫定律来解的，解出什么就
是什么。这在线性分析的时候一样，基尔霍夫分析的时候，你其实也分不出你的电阻到底
是串联的还是并联的，你不过是用一些必然成立的规律来列方程而已。

三极管的伏安特性总结出来是这样的：

.. figure:: _static/三极管伏安特性曲线.png

参考电路如下：

.. figure:: _static/三极管放大电路.png

你注意一下上面那幅图，这里其实用了控制变量法，因为有三个要素，你要它画出三个变
量都线性变化的曲线，那需要是一幅三维的图，那个图很难测量，所以这个伏安特性是先
控制了基极的入电流，然后单独测量集电极的伏安特性。然后它就发现规律了：

1. 只要基极电流不变，那么集电极的电压在过了饱和区以后，电流就不再随着电压上升
   了（放大区）

2. 基极电流越大，这个放大区的水平线就越高（而且成线性关系）

如果你敏感一点，你就会发现，这是个波形放大器：如果基极电流是一个波
:math:`I_b=f(t)`
，只要我们能让三极管工作在放大区，那么
:math:`I_c=f(t)*\beta`
。
:math:`\beta`
是基极电流和集电极电流的线性比例。

我们用电阻不可能实现这个效果，因为电阻是线性的，你最多实现加法，但这里实现的是
个乘法。所谓放大电路，利用的就是这个特性：你给定一个波（比如一个声音），它能把
这个波放大（而不是线性提高它的电流或者电压，是乘法，而不是加法）。

.. figure:: _static/乘法和加法的对比.svg

   乘法和加法的对比

其实三极管和电阻一样，都是不能保存电荷的，所以，三极管本身，也符合基尔霍夫电流
定律，三个极流入多少电流，就得出来多少电流。所以它自己并没没有放大电流的作用，
它只是控制了外面电池供应电流的方式。这一点也和电阻一样，只是电阻对电源的控制呈
现一个线性方程，三极管不是个典型方程而已。

所以，分析这样的电路，只能是确定了一个控制变量，然后继续列方程，求剩下的电路特
征而已。对于三极管，你现在手上多了这么一条公式：
:math:`I_c=f(t)*\beta`
。你就多了一条方程，你如果能确定你的三极管当时是工作在放大区，那么这条公式就可
以用，如果不在放大区，那就另说。所以觉得电路不好学，只是你以为你手上的筹码还和
线性电路一样多而已，你知道你只能解决部分的问题，布置或者分析电路的时候顺着这些
条件区，解决方法其实是一样的。

三极管还有其他的基于这些不同区的应用方式，比如用于计算机的数字运算，这些原理都
是一样的，跟着课本学就可以了。

附录：看一道题
==============

现在我们看一道题，这是课本上的一道题：

.. figure:: _static/三极管例题1.svg

   三极管例题1

已知
:math:`\beta=50, E_C=12V, R_C=3K\Omega`
，求当
:math:`I_B=40, 100, 0\mu A`
时，
:math:`U_CE=? , I_C=?`
。

我们不知道电路工作在哪个工作区，但放大区最大，而且这个电路搭成放大电路的样子，
我们就先当作放大电路来列方程，分析完以后如果和放大区的伏安特性对不上，我们再换
一个工作区来算。所以，对于
:math:`I_B=40\mu A`
，我们有：

* :math:`I_C = 50*40\mu A = 2mA` （三极管电流放大公式）
* :math:`I_E = I_C + I_B = 2040\mu A` （基尔霍夫电流公式）
* :math:`U_{RC} = 2mA * 3K \Omega = 6V` （欧姆定律）
* :math:`U_{CE} = 12V - 6V = 6V` （基尔霍夫电压公式）

然后我们对比这些结果是不是在这个三极管的伏安特性工作区，如果是，这个结果就是我
们要的结果了。

所以，其实尽管题目中让我们求三个结果，从数学上好像可以用一样的方法算，但其实如
果工作区不同，可能结果就是不同的。但这个题就没提这个三极管的参数特征，所以我猜
他默认认为这都在放大区。但题目是题目，工程是工程，大学生要开始学会学习，就不能
老想着做对题目，而要考虑工程上怎么找到解决问题的方案。

说起来，这个东西数学计算挺简单的，所以，电学在数学上就不是什么困难的问题，真正
的困难是工程问题，比如干扰，工作点偏移，前后级电路，内阻这些东西，才是电路的真
正问题。
